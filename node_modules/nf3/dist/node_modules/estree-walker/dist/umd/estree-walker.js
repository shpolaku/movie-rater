(function(e,t){typeof exports==`object`&&typeof module<`u`?t(exports):typeof define==`function`&&define.amd?define([`exports`],t):(e||=self,t(e.estreeWalker={}))})(this,(function(e){"use strict";class t{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:e=>this.replacement=e}}replace(e,t,n,r){e&&(n===null?e[t]=r:e[t][n]=r)}remove(e,t,n){e&&(n===null?delete e[t]:e[t].splice(n,1))}}class n extends t{constructor(e,t){super(),this.enter=e,this.leave=t}visit(e,t,n,r){if(e){if(this.enter){let i=this.should_skip,a=this.should_remove,o=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,t,n,r),this.replacement&&(e=this.replacement,this.replace(t,n,r,e)),this.should_remove&&this.remove(t,n,r);let s=this.should_skip,c=this.should_remove;if(this.should_skip=i,this.should_remove=a,this.replacement=o,s)return e;if(c)return null}for(let t in e){let n=e[t];if(typeof n==`object`)if(Array.isArray(n))for(let r=0;r<n.length;r+=1)n[r]!==null&&typeof n[r].type==`string`&&(this.visit(n[r],e,t,r)||r--);else n!==null&&typeof n.type==`string`&&this.visit(n,e,t,null)}if(this.leave){let i=this.replacement,a=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,t,n,r),this.replacement&&(e=this.replacement,this.replace(t,n,r,e)),this.should_remove&&this.remove(t,n,r);let o=this.should_remove;if(this.replacement=i,this.should_remove=a,o)return null}}return e}}class r extends t{constructor(e,t){super(),this.enter=e,this.leave=t}async visit(e,t,n,r){if(e){if(this.enter){let i=this.should_skip,a=this.should_remove,o=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,await this.enter.call(this.context,e,t,n,r),this.replacement&&(e=this.replacement,this.replace(t,n,r,e)),this.should_remove&&this.remove(t,n,r);let s=this.should_skip,c=this.should_remove;if(this.should_skip=i,this.should_remove=a,this.replacement=o,s)return e;if(c)return null}for(let t in e){let n=e[t];if(typeof n==`object`)if(Array.isArray(n))for(let r=0;r<n.length;r+=1)n[r]!==null&&typeof n[r].type==`string`&&(await this.visit(n[r],e,t,r)||r--);else n!==null&&typeof n.type==`string`&&await this.visit(n,e,t,null)}if(this.leave){let i=this.replacement,a=this.should_remove;this.replacement=null,this.should_remove=!1,await this.leave.call(this.context,e,t,n,r),this.replacement&&(e=this.replacement,this.replace(t,n,r,e)),this.should_remove&&this.remove(t,n,r);let o=this.should_remove;if(this.replacement=i,this.should_remove=a,o)return null}}return e}}function i(e,{enter:t,leave:r}){return new n(t,r).visit(e,null)}async function a(e,{enter:t,leave:n}){return await new r(t,n).visit(e,null)}e.asyncWalk=a,e.walk=i,Object.defineProperty(e,`__esModule`,{value:!0})}));