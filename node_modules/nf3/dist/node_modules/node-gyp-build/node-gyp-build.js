var fs=require(`fs`),path=require(`path`),os=require(`os`),runtimeRequire=typeof __webpack_require__==`function`?__non_webpack_require__:require,vars=process.config&&process.config.variables||{},prebuildsOnly=!!process.env.PREBUILDS_ONLY,abi=process.versions.modules,runtime=isElectron()?`electron`:isNwjs()?`node-webkit`:`node`,arch=process.env.npm_config_arch||os.arch(),platform=process.env.npm_config_platform||os.platform(),libc=process.env.LIBC||(isAlpine(platform)?`musl`:`glibc`),armv=process.env.ARM_VERSION||(arch===`arm64`?`8`:vars.arm_version)||``,uv=(process.versions.uv||``).split(`.`)[0];module.exports=load;function load(e){return runtimeRequire(load.resolve(e))}load.resolve=load.path=function(e){e=path.resolve(e||`.`);try{var n=runtimeRequire(path.join(e,`package.json`)).name.toUpperCase().replace(/-/g,`_`);process.env[n+`_PREBUILD`]&&(e=process.env[n+`_PREBUILD`])}catch{}if(!prebuildsOnly){var i=getFirst(path.join(e,`build/Release`),matchBuild);if(i)return i;var o=getFirst(path.join(e,`build/Debug`),matchBuild);if(o)return o}var s=u(e);if(s)return s;var c=u(path.dirname(process.execPath));if(c)return c;var l=[`platform=`+platform,`arch=`+arch,`runtime=`+runtime,`abi=`+abi,`uv=`+uv,armv?`armv=`+armv:``,`libc=`+libc,`node=`+process.versions.node,process.versions.electron?`electron=`+process.versions.electron:``,typeof __webpack_require__==`function`?`webpack=true`:``].filter(Boolean).join(` `);throw Error(`No native build was found for `+l+`
    loaded from: `+e+`
`);function u(e){var n=readdirSync(path.join(e,`prebuilds`)).map(parseTuple).filter(matchTuple(platform,arch)).sort(compareTuples)[0];if(n){var r=path.join(e,`prebuilds`,n.name),i=readdirSync(r).map(parseTags).filter(matchTags(runtime,abi)).sort(compareTags(runtime))[0];if(i)return path.join(r,i.file)}}};function readdirSync(t){try{return fs.readdirSync(t)}catch{return[]}}function getFirst(e,n){var r=readdirSync(e).filter(n);return r[0]&&path.join(e,r[0])}function matchBuild(e){return/\.node$/.test(e)}function parseTuple(e){var t=e.split(`-`);if(t.length===2){var n=t[0],r=t[1].split(`+`);if(n&&r.length&&r.every(Boolean))return{name:e,platform:n,architectures:r}}}function matchTuple(e,t){return function(n){return n==null||n.platform!==e?!1:n.architectures.includes(t)}}function compareTuples(e,t){return e.architectures.length-t.architectures.length}function parseTags(e){var t=e.split(`.`),n=t.pop(),r={file:e,specificity:0};if(n===`node`){for(var i=0;i<t.length;i++){var a=t[i];if(a===`node`||a===`electron`||a===`node-webkit`)r.runtime=a;else if(a===`napi`)r.napi=!0;else if(a.slice(0,3)===`abi`)r.abi=a.slice(3);else if(a.slice(0,2)===`uv`)r.uv=a.slice(2);else if(a.slice(0,4)===`armv`)r.armv=a.slice(4);else if(a===`glibc`||a===`musl`)r.libc=a;else continue;r.specificity++}return r}}function matchTags(e,t){return function(n){return!(n==null||n.runtime&&n.runtime!==e&&!runtimeAgnostic(n)||n.abi&&n.abi!==t&&!n.napi||n.uv&&n.uv!==uv||n.armv&&n.armv!==armv||n.libc&&n.libc!==libc)}}function runtimeAgnostic(e){return e.runtime===`node`&&e.napi}function compareTags(e){return function(t,n){return t.runtime===n.runtime?t.abi===n.abi?t.specificity===n.specificity?0:t.specificity>n.specificity?-1:1:t.abi?-1:1:t.runtime===e?-1:1}}function isNwjs(){return!!(process.versions&&process.versions.nw)}function isElectron(){return process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?!0:typeof window<`u`&&window.process&&window.process.type===`renderer`}function isAlpine(t){return t===`linux`&&fs.existsSync(`/etc/alpine-release`)}load.parseTags=parseTags,load.matchTags=matchTags,load.compareTags=compareTags,load.parseTuple=parseTuple,load.matchTuple=matchTuple,load.compareTuples=compareTuples;