"use strict";module.exports=exports=s3_mock;const AWSMock=require(`mock-aws-s3`),os=require(`os`),log=require(`../util/log.js`);log.heading=`node-pre-gyp`;function s3_mock(){log.warn(`mocking s3 operations`),AWSMock.config.basePath=`${os.tmpdir()}/mock`;let r=AWSMock.S3(),i=e=>(t,...n)=>(t&&t.code===`ENOENT`&&(t.code=`NotFound`),e(t,...n));return{listObjects(e,t){return r.listObjects(e,i(t))},headObject(e,t){return r.headObject(e,i(t))},deleteObject(e,t){return r.deleteObject(e,i(t))},putObject(e,t){return r.putObject(e,i(t))},getObject(e,t){return r.getObject(e,i(t))}}}