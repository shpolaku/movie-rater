"use strict";const npg=require(`..`),versioning=require(`../lib/util/versioning.js`),napi=require(`../lib/util/napi.js`),existsSync=require(`fs`).existsSync||require(`path`).existsSync,path=require(`path`);module.exports=exports,exports.usage=`Finds the require path for the node-pre-gyp installed module`,exports.validate=function(e,t){versioning.validate_config(e,t)},exports.find=function(n,r){if(!existsSync(n))throw Error(n+`does not exist`);let i=new npg.Run({package_json_path:n,argv:process.argv});i.setBinaryHostProperty();let a=i.package_json;versioning.validate_config(a,r);let o;return napi.get_napi_build_versions(a,r)&&(o=napi.get_best_napi_build_version(a,r)),r||={},r.module_root||=path.dirname(n),versioning.evaluate(a,r,o).module};