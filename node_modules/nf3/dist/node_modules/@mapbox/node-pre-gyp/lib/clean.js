"use strict";module.exports=exports=clean,exports.usage=`Removes the entire folder containing the compiled .node module`;const fs=require(`fs`),exists=fs.exists||require(`path`).exists,versioning=require(`./util/versioning.js`),napi=require(`./util/napi.js`),path=require(`path`);function clean(t,n,r){let i=t.package_json,a=napi.get_napi_build_version_from_command_args(n),o=versioning.evaluate(i,t.opts,a).module_path;if(!o)return r(Error(`module_path is empty, refusing to delete`));if(path.normalize(o)===path.normalize(process.cwd()))return r(Error(`module_path is not set, refusing to delete`));exists(o,e=>e?(t.opts.silent_clean||console.log(`[`+i.name+`] Removing "%s"`,o),fs.rm(o,{recursive:!0,force:!0},r)):r())}