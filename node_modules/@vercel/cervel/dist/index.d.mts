/// <reference types="node" resolution-mode="require"/>
import { BuildOptions, Files } from "@vercel/build-utils";
import * as _vercel_build_utils_dist_types_js0 from "@vercel/build-utils/dist/types.js";
import { ParseArgsConfig } from "node:util";

//#region src/find-entrypoint.d.ts
declare const findEntrypoint: (cwd: string, options?: {
  ignoreRegex?: boolean;
}) => Promise<string>;
//#endregion
//#region src/types.d.ts
/**
 * Core path options derived from BuildOptions.
 * - workPath: the workspace/project directory (where package.json is)
 * - repoRootPath: the root of the monorepo/repo
 */
type PathOptions = Pick<BuildOptions, 'workPath' | 'repoRootPath'>;
/**
 * Options for the cervel build function.
 */
type CervelBuildOptions = PathOptions & {
  entrypoint?: string;
  out: string;
};
/**
 * Options for the cervel serve function.
 */
type CervelServeOptions = Pick<BuildOptions, 'workPath'> & {
  rest: Record<string, string | boolean | undefined>;
};
/**
 * Options for node file tracing.
 */
type NodeFileTraceOptions = PathOptions & {
  keepTracedPaths: boolean;
  outDir: string;
  tracedPaths: string[];
  context: {
    files: Files;
  };
};
//#endregion
//#region src/node-file-trace.d.ts
declare const nodeFileTrace: (args: NodeFileTraceOptions) => Promise<Files>;
//#endregion
//#region src/index.d.ts
type ParseArgsOptionsConfig = NonNullable<ParseArgsConfig['options']>;
declare const getBuildSummary: (outputDir: string) => Promise<any>;
declare const build: (args: CervelBuildOptions) => Promise<{
  rolldownResult: {
    handler: string;
    outputDir: string;
    outputFiles: _vercel_build_utils_dist_types_js0.Files;
  };
  tsPromise: Promise<void> | null | undefined;
}>;
declare const serve: (args: CervelServeOptions) => Promise<void>;
declare const srvxOptions: ParseArgsOptionsConfig;
//#endregion
export { type CervelBuildOptions, type CervelServeOptions, type PathOptions, build, findEntrypoint, getBuildSummary, nodeFileTrace, serve, srvxOptions };